## 1. Implementation
- [x] 1.1 Redesign MessageInput layout to WeChat-like bar with mode toggle, hold-to-talk button, emoji, and plus/attach slot
- [x] 1.2 Implement press-and-hold voice capture with slide-to-cancel visual feedback; release-to-send flows into existing voice pipeline
- [x] 1.3 Preserve photo/gallery entry via plus/attach action and ensure permissions prompts still surface
- [x] 1.4 Update state handling to switch between text and voice modes, disabling send when empty
- [x] 1.5 Add UI tests/unit tests covering mode toggle, hold-to-talk cancel/send, and attach shortcuts
- [x] 1.6 Update empty-state/recording indicators to align with new layout
